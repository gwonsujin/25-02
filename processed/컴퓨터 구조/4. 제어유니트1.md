| 주제/단락 | 내용 |
| --- | --- |
| 학습 목표 | CPU 제어 유니트의 구조와 동작 원리를 분석하고, 마이크로프로그래밍을 이용한 명령어 설계 방법을 이해한다. |
| 학습 내용 | 제어 유니트의 기능과 구조, 마이크로명령어 형식, 마이크로프로그래밍 및 순서제어에 대해 학습한다. |
| 제어 유니트 (CU) | 컴퓨터의 모든 장치 동작을 지시하고 제어하는 CPU의 핵심적인 장치이다. |
| 제어 유니트 기능 (명령어 해독) | 주기억장치로부터 가져온 프로그램 명령어를 해독하는 기능을 수행한다. |
| 제어 유니트 기능 (제어 신호 발생) | 해독된 명령에 따라 연산이 수행되도록 각 장치에 필요한 제어 신호를 생성하여 전달한다. |
| 하드와이어 제어 장치 | 논리 게이트와 플립플롭 같은 논리 회로를 이용하여 제어 신호를 발생시키는 방식의 제어 장치이다. |
| 마이크로프로그램 제어 장치 | 제어용 소형 컴퓨터 개념으로, 마이크로명령어를 제어 기억장치에 저장하고 실행하여 제어 신호를 발생시킨다. |
| 마이크로프로그램 제어 방식 | 명령어의 각 마이크로 연산을 제어 기억장치의 특정 주소에 마이크로코드로 작성하여 실행한다. |
| 마이크로명령어 | 명령어 사이클의 각 단계에서 실행될 마이크로 연산을 지정하는 2진 비트 패턴으로, 제어 단어라고도 한다. |
| 마이크로프로그램 | 특정 기능을 수행하기 위해 순서대로 배열된 마이크로명령어들의 집합이다. |
| 루틴 | CPU의 특정 기능(인출, 간접, 인터럽트 등)을 수행하기 위한 마이크로명령어들의 그룹이다. |
| CU 구성요소 (명령어 해독기) | 명령어 레지스터(IR)의 연산 코드를 해독하여 해당 루틴의 시작 주소를 결정한다. |
| CU 구성요소 (CAR) | 제어 주소 레지스터(Control Address Register)로, 다음에 실행할 마이크로명령어의 주소를 저장한다. |
| CU 구성요소 (제어 기억장치) | 마이크로프로그램을 저장하는 내부 기억장치로, 주로 ROM으로 구성된다. |
| CU 구성요소 (CBR) | 제어 버퍼 레지스터(Control Buffer Register)로, 제어 기억장치에서 읽은 마이크로명령어를 일시 저장한다. |
| CU 구성요소 (SBR) | 서브루틴 레지스터(Subroutine Register)로, 서브루틴 호출 시 현재 CAR의 내용을 임시 저장하여 복귀 주소로 사용한다. |
| CU 구성요소 (순서제어 모듈) | 마이크로명령어의 실행 순서를 결정하는 회로들의 집합이다. |
| 마이크로프로그래밍 1단계 | CPU에서 사용할 명령어의 종류와 비트 패턴을 정의한다. |
| 마이크로프로그래밍 2단계 | 정의된 명령어 실행에 필요한 하드웨어를 설계한다. |
| 마이크로프로그래밍 3단계 | 각 명령어를 위한 실행 사이클 루틴을 작성하며, 인출/간접/인터럽트 사이클은 공통 루틴으로 사용한다. |
| 마이크로프로그래밍 4단계 | 작성된 모든 마이크로프로그램 코드를 제어 기억장치(ROM)에 저장한다. |
| 제어 기억장치 구성 예시 | 128 단어 용량의 기억장치에서 전반부(0-63)는 공통 루틴, 후반부(64-127)는 실행 사이클 루틴을 저장한다. |
| 마이크로명령어 길이 예시 | 주소 필드가 7비트이고 명령어 길이가 17비트일 경우, 제어 기억장치의 크기는 2^7 × 17 비트가 된다. |
| 명령어 해독 | 명령어의 연산 코드를 분석하여 해당 연산을 수행할 실행 사이클 루틴의 시작 주소를 결정하는 동작이다. |
| 사상 (Mapping) | 명령어의 연산 코드와 특정 비트 패턴을 조합하여 실행 사이클 루틴의 시작 주소를 결정하는 해독 방법이다. |
| 사상 방식 주소 결정 예시 | 연산 코드가 0001이면 시작 주소는 1000100(68)이 되고, 0110이면 1011000(88)이 된다. |
| 다중 연산 필드 | 연산 필드가 두 개 이상일 경우, 두 개의 마이크로 연산을 동시에 수행할 수 있다. |
| 조건(CD) 필드 | 분기 명령에 사용될 조건 플래그(부호, 제로 등)를 지정하는 필드이다. |
| 분기(BR) 필드 | 분기의 종류(JUMP, CALL 등)와 다음 마이크로명령어의 주소를 결정하는 방법을 명시한다. |
| 주소(ADF) 필드 | 분기가 발생할 경우 목적지 마이크로명령어의 주소를 저장하는 필드이다. |
| 연산필드 1 예시 | MAR에 PC 값 적재, AC에 MBR 값 적재 등의 마이크로 연산이 위치할 수 있다. |
| 연산필드 2 예시 | PC 값 증가, MBR에 AC 값 적재 등의 마이크로 연산이 위치할 수 있다. |
| 연산필드 간의 관계 | 'None'을 제외하고 연산필드 1과 연산필드 2에 정의된 마이크로 연산들은 서로 중복되지 않는다. |
| 조건 필드 종류 | U(무조건), I(간접 주소 지정), S(부호 비트), Z(제로 비트) 조건으로 구성된다. |
| 분기 필드 종류 | JUMP, CALL, RET, MAP 네 가지 유형으로 분기 방식을 지정한다. |
| JUMP 및 CALL 동작 | 조건 필드의 조건이 만족되면 ADF 필드의 주소로 분기하며, CALL은 서브루틴 호출에 사용된다. |
| RET 동작 | 서브루틴으로부터 복귀하는 명령으로, SBR에 저장된 복귀 주소를 CAR로 적재한다. |
| MAP 동작 | 사상(Mapping) 방식에 의해 분기할 목적지 주소를 결정한다. |